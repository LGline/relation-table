(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["relation-table"]=e():t["relation-table"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),a=n("32e9"),c=n("84f2"),s=n("41a0"),l=n("7f20"),u=n("38fd"),f=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",p="keys",b="values",g=function(){return this};t.exports=function(t,e,n,y,v,x,w){s(n,e,y);var m,_,O,S=function(t){if(!d&&t in j)return j[t];switch(t){case p:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this,t)}},D=e+" Iterator",H=v==b,C=!1,j=t.prototype,T=j[f]||j[h]||v&&j[v],k=T||S(v),P=v?H?S("entries"):k:void 0,L="Array"==e&&j.entries||T;if(L&&(O=u(L.call(new t)),O!==Object.prototype&&O.next&&(l(O,D,!0),r||"function"==typeof O[f]||a(O,f,g))),H&&T&&T.name!==b&&(C=!0,k=function(){return T.call(this)}),r&&!w||!d&&!C&&j[f]||a(j,f,k),c[e]=k,c[D]=g,v)if(m={values:H?k:S(b),keys:x?k:S(p),entries:P},w)for(_ in m)_ in j||o(j,_,m[_]);else i(i.P+i.F*(d||C),e,m);return m}},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),o=n("4bf8"),a=n("9def"),c=n("cd1c");t.exports=function(t,e){var n=1==t,s=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f,h=e||c;return function(e,c,p){for(var b,g,y=o(e),v=i(y),x=r(c,p,3),w=a(v.length),m=0,_=n?h(e,w):s?h(e,0):void 0;w>m;m++)if((d||m in v)&&(b=v[m],g=x(b,m,y),t))if(n)_[m]=g;else if(g)switch(t){case 3:return!0;case 5:return b;case 6:return m;case 2:_.push(b)}else if(u)return!1;return f?-1:l||u?u:_}}},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"11e9":function(t,e,n){var r=n("52a7"),i=n("4630"),o=n("6821"),a=n("6a99"),c=n("69a8"),s=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=o(t),e=a(e,!0),s)try{return l(t,e)}catch(n){}if(c(t,e))return i(!r.f.call(t,e),t[e])}},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,a=o(e),c=a.length,s=0;while(c>s)r.f(t,n=a[s++],e[n]);return t}},"1bc3":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,n){var r=n("f772"),i=n("e53d").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"1f69":function(t,e,n){},"20d6":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),c=n("fa5b"),s="toString",l=(""+c).split(s);n("8378").inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,c){var s="function"==typeof n;s&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(s&&(o(n,a)||i(n,a,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:c?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[a]||c.call(this)}))},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),c=function(){},s="prototype",l=function(){var t,e=n("230e")("iframe"),r=o.length,i="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),l=t.F;while(r--)delete l[s][o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(c[s]=r(t),n=new c,c[s]=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o,c=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};c.store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"35e8":function(t,e,n){var r=n("d9f6"),i=n("aebd");t.exports=n("8e60")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},"454f":function(t,e,n){n("46a7");var r=n("584a").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},"456d":function(t,e,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(t){return i(r(t))}}))},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"46a7":function(t,e,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"584a":function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),a=n("2aba"),c=n("9b43"),s="prototype",l=function(t,e,n){var u,f,d,h,p=t&l.F,b=t&l.G,g=t&l.S,y=t&l.P,v=t&l.B,x=b?r:g?r[e]||(r[e]={}):(r[e]||{})[s],w=b?i:i[e]||(i[e]={}),m=w[s]||(w[s]={});for(u in b&&(n=e),n)f=!p&&x&&void 0!==x[u],d=(f?x:n)[u],h=v&&f?c(d,r):y&&"function"==typeof d?c(Function.call,d):d,x&&a(x,u,d,t&l.U),w[u]!=d&&o(w,u,h),y&&m[u]!=d&&(m[u]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5eda":function(t,e,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"63b6":function(t,e,n){var r=n("e53d"),i=n("584a"),o=n("d864"),a=n("35e8"),c=n("07e3"),s="prototype",l=function(t,e,n){var u,f,d,h=t&l.F,p=t&l.G,b=t&l.S,g=t&l.P,y=t&l.B,v=t&l.W,x=p?i:i[e]||(i[e]={}),w=x[s],m=p?r:b?r[e]:(r[e]||{})[s];for(u in p&&(n=e),n)f=!h&&m&&void 0!==m[u],f&&c(x,u)||(d=f?m[u]:n[u],x[u]=p&&"function"!=typeof m[u]?n[u]:y&&f?o(d,r):v&&m[u]==d?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(d):g&&"function"==typeof d?o(Function.call,d):d,g&&((x.virtual||(x.virtual={}))[u]=d,t&l.R&&w&&!w[u]&&a(w,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},6762:function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},7333:function(t,e,n){"use strict";var r=n("9e1e"),i=n("0d58"),o=n("2621"),a=n("52a7"),c=n("4bf8"),s=n("626a"),l=Object.assign;t.exports=!l||n("79e5")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){var n=c(t),l=arguments.length,u=1,f=o.f,d=a.f;while(l>u){var h,p=s(arguments[u++]),b=f?i(p).concat(f(p)):i(p),g=b.length,y=0;while(g>y)h=b[y++],r&&!d.call(p,h)||(n[h]=p[h])}return n}:l},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")((function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a}))},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"7f7f":function(t,e,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n("9e1e")&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"7f8a":function(t,e,n){},8378:function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"85f2":function(t,e,n){t.exports=n("454f")},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),a=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"8e60":function(t,e,n){t.exports=!n("294c")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"8e6e":function(t,e,n){var r=n("5ca1"),i=n("990b"),o=n("6821"),a=n("11e9"),c=n("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),s=a.f,l=i(r),u={},f=0;while(l.length>f)n=s(r,e=l[f++]),void 0!==n&&c(u,e,n);return u}})},9093:function(t,e,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},"990b":function(t,e,n){var r=n("9093"),i=n("2621"),o=n("cb7c"),a=n("7726").Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},"9a3e":function(t,e,n){},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),a=n("7726"),c=n("32e9"),s=n("84f2"),l=n("2b4c"),u=l("iterator"),f=l("toStringTag"),d=s.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),b=0;b<p.length;b++){var g,y=p[b],v=h[y],x=a[y],w=x&&x.prototype;if(w&&(w[u]||c(w,u,d),w[f]||c(w,f,y),s[y]=d,v))for(g in r)w[g]||o(w,g,r[g],!0)}},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,a){var c,s=r(e),l=i(s.length),u=o(a,l);if(t&&n!=n){while(l>u)if(c=s[u++],c!=c)return!0}else for(;l>u;u++)if((t||u in s)&&s[u]===n)return t||u||0;return!t&&-1}}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,c=i(t),s=0,l=[];for(n in c)n!=a&&r(c,n)&&l.push(n);while(e.length>s)r(c,n=e[s++])&&(~o(l,n)||l.push(n));return l}},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d864:function(t,e,n){var r=n("79aa");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,e,n){var r=n("e4ae"),i=n("794b"),o=n("1bc3"),a=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e45d:function(t,e,n){"use strict";var r=n("9a3e"),i=n.n(r);i.a},e4ae:function(t,e,n){var r=n("f772");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},f1ae:function(t,e,n){"use strict";var r=n("86cc"),i=n("4630");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},f445:function(t,e,n){"use strict";var r=n("1f69"),i=n.n(r);i.a},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1]));n("8e6e"),n("ac6a"),n("cadf"),n("456d");var i=n("85f2"),o=n.n(i);function a(t,e,n){return e in t?o()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n("7f7f");var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relation-wapper"},[n("div",{ref:"relation-container",staticClass:"relation-container",style:[t.tableConfig.style.container],attrs:{id:"relation-table"},on:{mouseup:function(e){return t.thMouseupHandle()}}},[t.tableHead&&t.tableHead.length?n("div",{staticClass:"table-header-wrapper"},[n("table",{staticClass:"table__header",style:t.containerWidth?"width:"+t.containerWidth+"px;":"",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("colgroup",t._l(t.tableHead,(function(e,r){return n("col",{key:"col-"+e.prop+"-"+r,attrs:{align:e.align||"left",width:e.width||e.minWidth||t.averageWidth,span:e.span||1}})})),0),n("thead",{staticClass:"table__thead"},[n("tr",{staticClass:"is-row-thead",style:[t.tableConfig.style.thead]},t._l(t.tableHead,(function(e,r){return n("th",{key:"th-"+e.prop+"-"+r,staticClass:"thead-th",style:[t.tableConfig.style.th],on:{mousedown:function(n){return t.thMousedownHandle(e,r)},mousemove:function(n){return t.thMousemoveHandle(e)}}},["select"===e.prop?[n("div",{style:[{textAlign:"center",width:e.width+"px"}],on:{click:function(e){return e.stopPropagation(),t.checkClick(e)}}},[n("input",{staticClass:"checkbox",attrs:{id:"checkedAll",type:"checkbox"},domProps:{value:t.checkedAll},on:{change:t.checkedAllChange}}),n("label",{attrs:{for:"checkedAll"}})])]:t._e(),"select"!==e.prop?[n("div",{style:[t.setStyleData(e)]},[n("span",{staticClass:"th-text",style:[{width:(e.width||e.minWidth||t.averageWidth)-20+"px"}]},[t._v("\n                    "+t._s(e.label)+"\n                  ")])])]:t._e()],2)})),0)])])]):t._e(),t.tableHead&&t.tableHead.length&&t.tableData&&t.tableData.length?t._e():n("div",{staticClass:"empty-box",style:[t.tableConfig.style.empty]},[n("span",[t._v(t._s(t.tableConfig.emptyText))])]),t.tableHead&&t.tableHead.length&&t.tableData&&t.tableData.length?n("div",{staticClass:"table-body-wrapper"},[t.tableData&&t.tableData.length?n("table",{staticClass:"table__body",style:t.containerWidth?"width:"+t.containerWidth+"px;":"",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("colgroup",t._l(t.tableHead,(function(e,r){return n("col",{key:"_col-"+e.prop+"-"+r,attrs:{align:e.align||"left",width:e.width||e.minWidth||t.averageWidth,span:e.span||1}})})),0),n("tbody",{staticClass:"table__tbody"},t._l(t.tableData,(function(e,r){return n("tr",{key:"tr-"+e.id+"-"+r,staticClass:"is-row-tbody",class:e.showRelation?"bg-light":"",style:[t.tableConfig.style.tbody],on:{mouseenter:function(n){return n.stopPropagation(),t.mouseenterTbodyRowHandle(e)},mouseleave:function(n){return n.stopPropagation(),t.mouseleaveTbodyRowHandle(e)},click:function(n){return n.stopPropagation(),t.rowClickHandle(e)}}},t._l(t.tableHead,(function(i,o){return n("td",{key:"td-"+i.pro+"-"+o,staticClass:"tbody-td"},["select"===i.prop?[n("div",{style:[{textAlign:"center",width:i.width+"px",position:"relative",height:"100%",userSelect:"none",borderRight:t.tableConfig.style.td.borderRight,borderBottom:t.tableConfig.style.td.borderBottom}],on:{click:function(e){return e.stopPropagation(),t.checkClick(e)}}},[n("input",{staticClass:"checkbox",attrs:{id:"checkboxId-"+e.id,type:"checkbox"},domProps:{value:e.selected,checked:e.selected},on:{change:function(n){return t.checkChange(e,r)}}}),n("label",{attrs:{for:"checkboxId-"+e.id}})])]:t._e(),"select"!==i.prop?[n("div",{style:[t.tableConfig.style.td]},[i.tooltip?n("span",{staticClass:"td-text text-tooltip",style:[t.tdTextStyle(i,e)],attrs:{"data-title":e[i.prop]}},["name"===i.prop&&e.children&&e.children.length?n("i",{class:"expand-icon iconfont "+(e.expanded?"iconjianhao":"iconjiahao"),staticStyle:{color:"#409EFF"},on:{click:function(n){return n.stopPropagation(),t.expandHandle(e,r)}}}):t._e(),"name"!==i.prop||e.children&&e.children.length?t._e():n("i",{staticStyle:{display:"inline-block",width:"12px"}}),t._v("\n                    "+t._s(e[i.prop])+"    \n                  ")]):n("span",{staticClass:"td-text",style:[t.tdTextStyle(i,e)]},["name"===i.prop&&e.children&&e.children.length?n("i",{class:"expand-icon iconfont "+(e.expanded?"iconjianhao":"iconjiahao"),staticStyle:{color:"#409EFF"},on:{click:function(n){return n.stopPropagation(),t.expandHandle(e,r)}}}):t._e(),"name"!==i.prop||e.children&&e.children.length?t._e():n("i",{staticStyle:{display:"inline-block",width:"12px"}}),t._v("\n                    "+t._s(e[i.prop])+"\n                  ")])])]:t._e()],2)})),0)})),0)]):t._e()]):t._e()])])},s=[],l=(n("20d6"),n("6762"),n("2fdb"),n("f751"),n("7f8a"),{name:"relation-table",props:{config:null,tableHeadList:null,relationList:null},components:{},computed:{relationData:function(){return this.relationList||[]},tableData:function(){return this.tableList},tableHead:function(){return this.tableHeadList||[]},tableConfig:function(){return{initExpanded:this.config?this.config.initExpanded:this.defaultTableData.config.initExpanded,tableHeadDragable:this.config?this.config.tableHeadDragable:this.defaultTableData.config.tableHeadDragable,emptyText:this.config&&this.config.emptyText?this.config.emptyText:this.defaultTableData.config.emptyText,style:{container:Object.assign(this.defaultTableData.config.style.container,this.config&&this.config.style?this.config.style.container:{}),thead:Object.assign(this.defaultTableData.config.style.thead,this.config&&this.config.style?this.config.style.thead:{}),tbody:Object.assign(this.defaultTableData.config.style.tbody,this.config&&this.config.style?this.config.style.tbody:{}),th:Object.assign(this.defaultTableData.config.style.th,this.config&&this.config.style?this.config.style.th:{}),td:Object.assign(this.defaultTableData.config.style.td,this.config&&this.config.style?this.config.style.td:{}),empty:Object.assign(this.defaultTableData.config.style.empty,this.config&&this.config.style?this.config.style.empty:{})},notDragableProp:this.defaultTableData.config.notDragableProp,styleKeys:this.defaultTableData.config.styleKeys}}},data:function(){return{containerWidth:0,tableList:[],selectedList:[],defaultTableData:{config:{initExpanded:!1,tableHeadDragable:!0,notDragableProp:["select"],emptyText:"暂无数据",styleKeys:["width","minWidth","textAlign","color","fontSize","position","top","bottom","left","bottom","overflow","textOverflow","whiteSpace","height","lineHeight","cursor","border","borderRadius","boxShadow","background","fontWeight","display","float","zIndex","backgroundColor","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marignLeft","marginRight","marginTop","marginBottom"],style:{container:{backgroundColor:"#fff",border:"1px solid #ebeef5",borderRadius:"5px",marginTop:"10px"},empty:{height:"60px",lineHeight:"60px",textAlign:"center",fontSize:"12px",color:"#909399"},thead:{height:"40px",lineHeight:"40px"},tbody:{height:"40px",lineHeight:"40px"},th:{height:"40px",lineHeight:"40px",color:"#333",fontSize:"12px",textAlign:"left",borderRight:"1px solid #ebeef5",borderBottom:"1px solid #ebeef5"},td:{height:"40px",lineHeight:"40px",color:"#333",fontSize:"12px",textAlign:"left",borderRight:"1px solid #ebeef5",borderBottom:"1px solid #ebeef5"}}}},checkedAll:!1,averageWidth:0,tableHeadDrag:{currentHead:null,target:null,targetOffsetWidth:0,oldX:0,oldWidth:0,offsetWidth:0},mousedown:!1}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(e){var n=document.getElementById("relation-table");t.getContainerWidth(n)}))},watch:{relationData:function(t){this.$set(this,"tableList",[]),this.initTableData(t)}},methods:{initTableData:function(t){var e=this;t&&t.length&&t.forEach((function(t,n){e.$set(t,"expanded",e.tableConfig.initExpanded),e.$set(t,"selected",!1),e.$set(t,"rootRowId",t.rootRowId?t.rootRowId:t.id),e.$set(t,"showRelation",!1),e.tableList.push(t),t.expanded&&t.children&&t.children.length&&(t.children.forEach((function(n){e.$set(t,"rootRowId",t.rootRowId?t.rootRowId:t.id),e.$set(t,"showRelation",!1)})),e.initTableData(t.children))}))},mouseenterTbodyRowHandle:function(t){var e=this.getRow(this.relationData,t);this.setters(e,"showRelation",!0,"children")},mouseleaveTbodyRowHandle:function(t){var e=this.getRow(this.relationData,t);this.setters(e,"showRelation",!1,"children")},getContainerWidth:function(t){if(!t)return 0;this.$set(this,"containerWidth",parseFloat(this._getStyle(t,"width"))),this.setColWidth(this.tableHead,this.containerWidth)},setColWidth:function(t,e){if(!t||!t.length||!e)return 0;var n=0,r=0;t.forEach((function(t){t.width&&(n+=t.width,r+=1)})),this.$set(this,"averageWidth",(e-n)/(t.length-r))},theadThStyle:function(t){return Object.assign(this.tableConfig.style.th,this.setStyleData(t))},setStyleData:function(t){if(!t)return{};var e={};for(var n in t)this.tableConfig.styleKeys.includes(n)&&(e[n]=t[n]);return e},tdTextStyle:function(t,e){return"name"===t.prop?{paddingLeft:10*(e.level||1)+"px"}:{paddingLeft:"10px"}},checkClick:function(){},expandClick:function(){},getters:function(t,e,n,r,i){var o={list:this.selectedList,getList:function(t){var o=this;t.forEach((function(t){var a=o.list.map((function(t){return t[i]}));if(t[e]===n)a.includes(t[i])||o.list.push(t);else{var c=a.findIndex((function(e){return e===t[i]}));-1!==c&&o.list.splice(c,1)}t[r]&&t[r].length&&o.getList(t[r])}))}};return o.getList(t),o.list},childrenLength:function(t,e){var n={length:0,getLength:function(t){var n=this;t.children.forEach((function(t){n.length++,e?t.children&&t.children.length&&t[e]&&n.getLength(t):t.children&&t.children.length&&n.getLength(t)}))}};return n.getLength(t),n.length},setTableData:function(t,e,n){if(n){var r=this.tableList;console.log(r,e);var i={index:e,foreach:function(t,e){var n=this;t.children.forEach((function(t,i){var o=r.map((function(t){return t.id}));o.includes(t.id)?n.index++:n.splice(t,n.index+i,e),t.children&&t.children.length&&n.foreach(t,e)}))},splice:function(t,e,n){this.index++,r.splice(this.index,0,t)}};i.foreach(t,n)}else this.tableList.splice(e+1,this.childrenLength(t,"expanded"))},getRow:function(t,e){var n={row:null,getter:function(t,e){for(var n=0;n<t.length;n++)t[n].id===e.id?this.row=t[n]:t[n].children&&t[n].children.length&&this.getter(t[n].children,e)}};return n.getter(t,e),n.row},setters:function(t,e,n,r){var i=this;this.$set(t,e,n),t[r]&&t[r].length&&t[r].forEach((function(t){i.setters(t,e,n,r)}))},expandHandle:function(t,e){var n=this.getRow(this.relationData,t);this.setTableData(n,e,!n.expanded),this.setters(n,"expanded",!n.expanded,"children"),n.expanded?(this.setters(n,"rootRowId",void 0,"children"),this.setters(n,"showRelation",!0,"children")):(this.setters(n,"rootRowId",n.id,"children"),this.setters(n,"showRelation",!1,"children"))},checkedAllChange:function(){var t=this,e=event.target||event.srcElement,n=e.checked,r={index:0,setIndex:function(t){this.index+=t}};this.relationData.forEach((function(e,i){if(n){if(0!==r.index){var o=t.tableList.map((function(t){return t.id}));o.includes(e.id)?r.index++:t.splice(e,r.index,n)}t.setTableData(e,r.index,n),t.setters(e,"expanded",n,"children"),t.setters(e,"rootRowId",e.id,"children"),t.setters(e,"showRelation",!1,"children"),t.setters(e,"selected",n,"children"),r.setIndex(t.childrenLength(e))}else t.setters(e,"selected",n,"children")})),this.selectedList=this.getters(this.relationData,"selected",!0,"children","id"),this.$emit("checkedAllChange",this.selectedList)},checkChange:function(t,e){var n=event.target||event.srcElement,r=n.checked,i=this.getRow(this.relationData,t);r?(this.setTableData(i,e,!0),this.setters(i,"expanded",!0,"children"),this.setters(i,"rootRowId",i.id,"children"),this.setters(i,"showRelation",!0,"children"),this.setters(i,"selected",!0,"children")):this.setters(i,"selected",!1,"children"),this.selectedList=this.getters([i],"selected",!0,"children","id"),this.$emit("checkChange",this.selectedList)},rowClickHandle:function(t){this.$emit("rowClick",t)},thMousedownHandle:function(t,e){if(this.tableConfig.tableHeadDragable&&!this.tableConfig.notDragableProp.includes(t.prop)&&!1!==t.resizable){var n=event.target||event.srcElement;this.$set(this.tableHeadDrag,"target",n),this.$set(this.tableHeadDrag,"targetOffsetWidth",n.offsetWidth),event.offsetX>this.tableHeadDrag.targetOffsetWidth-10&&(this.$set(this.tableHeadDrag,"currentHead",this.tableHead[e]),this.$set(this,"mousedown",!0),this.$set(this.tableHeadDrag,"oldX",event.x),this.$set(this.tableHeadDrag,"oldWidth",this.tableHeadDrag.targetOffsetWidth))}},thMousemoveHandle:function(t){var e=this;if(this.tableConfig.tableHeadDragable&&!this.tableConfig.notDragableProp.includes(t.prop)&&!1!==t.resizable){var n=event.target||event.srcElement;event.offsetX>n.offsetWidth-10?n.style.cursor="col-resize":n.style.cursor="default",!0===this.mousedown&&(this.$set(this.tableHeadDrag.target.style,"cursor","default"),this.tableHeadDrag.oldWidth+(event.x-this.tableHeadDrag.oldX)>(this.tableHeadDrag.currentHead.minWidth||50)&&this.$set(this.tableHeadDrag.currentHead,"width",this.tableHeadDrag.oldWidth+(event.x-this.tableHeadDrag.oldX)),this.$set(this.tableHeadDrag.target.style,"cursor","col-resize"),this.tableHead.forEach((function(t){t.prop===e.tableHeadDrag.currentHead.prop&&e.$set(t,"width",e.tableHeadDrag.currentHead.width)})))}},thMouseupHandle:function(){this.tableConfig.tableHeadDragable&&this.mousedown&&(this.$emit("cellWidthChange",this.tableHeadDrag.currentHead),this.$set(this,"mousedown",!1),this.$set(this.tableHeadDrag,"currentHead",null),this.$set(this.tableHeadDrag.target.style,"cursor","default"),this.$set(this.tableHeadDrag,"target",null),this.$set(this.tableHeadDrag,"targetOffsetWidth",0),this.$set(this.tableHeadDrag,"oldX",0),this.$set(this.tableHeadDrag,"oldWidth",0),this.$set(this.tableHeadDrag,"offsetWidth",0))},_getStyle:function(t,e){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]}},destroyed:function(){}}),u=l;n("f445"),n("e45d");function f(t,e,n,r,i,o,a,c){var s,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(s=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=s):i&&(s=c?function(){i.call(this,this.$root.$options.shadowRoot)}:i),s)if(l.functional){l._injectStyles=s;var u=l.render;l.render=function(t,e){return s.call(e),u(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,s):[s]}return{exports:t,options:l}}var d=f(u,c,s,!1,null,"d2054e86",null),h=d.exports;h.install=function(t){t.component(h.name,h)};var p=h;function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(n,!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y=[p],v=function t(e){t.installed||(t.installed=!0,y.map((function(t){e.component(t.name,t)})))};"undefined"!==typeof window&&window.Vue&&v(window.Vue);var x=g({install:v},y);e["default"]=x}})}));
//# sourceMappingURL=relation-table.umd.min.js.map